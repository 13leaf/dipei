/*! depei 2013-06-16 */
define(function(require,exports){require("jquery");var _is_complex_password=function(str){var n=str.length;if(6>n)return!1;for(var cc=0,c_step=0,i=0;n>i;++i)str.charCodeAt(i)==str.charCodeAt(0)&&++cc,i>0&&str.charCodeAt(i)==str.charCodeAt(i-1)+1&&++c_step;return cc==n||c_step==n-1?!1:!0},_num={l:0,L:0,N:0,S:0,lv:.3,Lv:.3,Nv:.3,Sv:1.5},_score=function(value){var score=0;if(_num.l=_num.L=_num.N=_num.S=0,value.length<6||!_is_complex_password(value))return score;value.replace(/./g,function($1){$1>="a"&&"z">=$1?_num.l++:$1>="A"&&"Z">=$1?_num.L++:$1>="0"&&"9">=$1?_num.N++:_num.S++});var val=0;return _num.l>0&&(score+=_num.l*_num.lv,val++),_num.L>0&&(score+=_num.L*_num.Lv,val++),_num.N>0&&(score+=_num.N*_num.Nv,val++),_num.S>0&&(score+=_num.S*_num.Sv+2,val++),score+=val-1,Math.min(~~score/10,1)};exports.strength=function($input,cb){$input.bind("keyup",function(){cb&&cb(_score(this.value))})}});